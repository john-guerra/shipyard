(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{227:function(e,t,a){e.exports=a(451)},275:function(e,t,a){},290:function(e,t){},397:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){},451:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(205),c=a(12),o=a(73),s=a(32),l=a(209),u=a(459),d=a(460),m=a(14),p=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:"1.5em",textAlign:"center"}},r.a.createElement(m.a,{style:{marginRight:"0.5em"},type:"compass"}),"Shipyard"))},b=function(){return r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("a",{href:"https://github.com/john-guerra/Navio",target:"_blank",rel:"noopener noreferrer"},"Github Project MIT License ",r.a.createElement(m.a,{type:"github"})))},E=a(84),h=a(48),f=a(455),g=a(452),v=a(42),y=a(458),T=a(456),A=a(74),O=[["SEQUENTIAL","NUMBER"],["DATE","DATE"],["CATEGORICAL","STRING"]],_=function(e){var t=isNaN(e),a=function(e){var t=new Date(e);return!isNaN(t.getDate())}(e);return t?a?1:2:0},S=function(e,t,a){for(var n=JSON.parse(JSON.stringify(t)),r=[],i=/^(id|key)|(id|key)$|\W+(key|id)+\W+|\W+(key|id)+\W*/gim,c=function(e,t){for(var a=[],n=1;n<e+1;n++)a.push(n);return a.map(function(a){return Math.floor(t.length*(a/e))-1}).map(function(e){return t[e]})}(6,a),o=function(a){i.test(n[a].name)&&(n[a].id=!0,r.push(t[a].name));var o=c.map(function(t){return t[e[a]]}).map(_),s=[0,0,0];o.forEach(function(e){return s[e]+=1});for(var l=0,u=0,d=0;d<s.length;d++)s[d]>l&&(l=s[d],u=d);var m=Object(A.a)(O[u],1)[0];n[a].type=m},s=0;s<e.length;s+=1)o(s);return[n,r]},w=function(e){for(var t,a=[],n=0,r=Object.keys(e[0]),i=0;i<r.length;i+=1){var c={name:r[i],alias:r[i],checked:!0,type:"",id:!1,__id:n++,__visible:!1};a.push(c)}var o=S(r,a,e),s=Object(A.a)(o,2);return a=s[0],t=s[1],{type:"SET_DATA",data:e.map(function(e){return a.forEach(function(t){if("DATE"===t.type){var a=new Date(e[t.name]);isNaN(a.getDate())||(e[t.name]=a)}else if("SEQUENTIAL"===t.type){var n=+e[t.name];isNaN(n)||(e[t.name]=n)}}),e}),source:e,attributes:a,ids:t}},D=function(e){return{type:"SET_COMPONENT_CLASSES",attributes:e}},j=function(e,t){return{type:"CHANGE_CHECK_STATUS",attribute:e,status:t}},k=function(e,t){return{type:"CHANGE_TYPE_STATUS",attribute:e,status:t}},C=function(e,t){return{type:"TOGGLE_SETTINGS_VISIBLE",index:e,visible:t}},N=a(224),L=(a(275),Object(s.b)(function(e){return{visible:e.ui.visible,datasets:e.shipyard.datasets,confirmLoading:e.ui.confirmLoading}},function(e){return{showModal:function(){return e({type:"SHOW_MODAL"})},handleOk:function(t){return e(void 0)},handleCancel:function(){return e({type:"SHOW_MODAL"})},setData:function(t){return e(w(t))},toggleLoading:function(){return e({type:"TOGGLE_LOADING"})},toggleDataLoaded:function(){return e({type:"TOGGLE_DATA_LOADED"})},setComponentClasses:function(t){return e(D(t))}}})(function(e){var t=e.visible,a=e.datasets,n=e.confirmLoading,i=e.showModal,c=e.handleOk,o=e.handleCancel,s=e.setData,l=e.toggleLoading,u=e.toggleDataLoaded;e.setComponentClasses;return r.a.createElement("div",null,r.a.createElement(v.a,{type:"primary",ghost:!0,onClick:i},"Choose one"),r.a.createElement(y.a,{title:"Datasets",visible:t,onOk:c,confirmLoading:n,onCancel:o,width:"90%",footer:[r.a.createElement(v.a,{onClick:o,key:"back"},"Cancel")]},r.a.createElement(E.a,{gutter:32},a.map(function(e){return r.a.createElement(h.a,{xs:24,sm:12,md:12,lg:8,xl:6,key:e.id},r.a.createElement(T.a,{onClick:function(){return t=e.name,l(),void N.a("".concat("https://raw.githubusercontent.com/john-guerra/shipyard/master/public/datasets/").concat(t)).then(function(e){s(e),l(),u(),o()}).catch(function(e){console.error(e)});var t},className:"hoverable",title:e.title,style:{width:"100%",height:"30vh",overflowY:"scroll",cursor:"pointer",marginBottom:32,textAlign:"center"}},r.a.createElement("div",{className:"modal__content"},r.a.createElement("p",{className:"modal__sub"},e.n_attributes," attributes & ",e.size," rows"),r.a.createElement("h2",null,"Description"),r.a.createElement("p",null,e.description))))}))))})),x=a(223),I=f.a.Dragger,G=Object(s.b)(function(e){return{attributes:e.shipyard.attributes}},function(e){return{toggleLoading:function(){return e({type:"TOGGLE_LOADING"})},setData:function(t){return e(w(t))},toggleDataLoaded:function(){return e({type:"TOGGLE_DATA_LOADED"})},setComponentClasses:function(t){return e(D(t))}}})(function(e){e.attributes;var t=e.toggleLoading,a=e.setData,n=e.toggleDataLoaded,i=(e.setComponentClasses,function(e){var r=new window.FileReader;null!=e&&(r.onload=function(r){var i,c=e.name.split(".").pop().toLowerCase();try{i=x.a(r.target.result,{type:c}),a(i),t(),n()}catch(o){console.error(o)}},r.readAsText(e))});return r.a.createElement("div",{style:{textAlign:"center",margin:"1em"}},r.a.createElement(I,{style:{alignItems:"center",minHeight:"70vh"},accept:".csv,.tsv,.txt",beforeUpload:function(e){t(),i(e)},name:"file"},r.a.createElement("div",{className:"dragger"},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(m.a,{type:"upload"})),r.a.createElement("h1",{style:{fontSize:"2em"}},"Drag and drop or click here to upload your dataset"),r.a.createElement("p",{className:"ant-upload-hint"},"*.csv, *.tsv and *.txt files allowed."))),r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement("p",null,"or you can click below to explore pre-loaded datasets"))),r.a.createElement("div",null,r.a.createElement(L,null)))}),B=a(119),U=a(120),R=a(125),P=a(121),M=a(126),V=a(18),W=a(6),H=a(124),z=a(160),J=a.n(z),q=v.a.Group,F=Object(s.b)(function(e){return{exportData:e.shipyard.exportData,data:e.shipyard.data,attributes:e.shipyard.attributes}},function(e){return{resetData:function(){return e({type:"RESET_DATA"})},toggleSidebar:function(){return e({type:"TOGGLE_SIDEBAR"})}}})(function(e){var t=e.exportData,a=e.data,n=e.attributes,i=e.resetData,c=e.toggleSidebar,o=function(e){e=e||Math.floor(999999*Math.random());var n=JSON.parse(JSON.stringify(t));n.forEach(function(e){return delete e.__i});var r=function(e,t){return null===t?"":t},i=Object.keys(n[0]),c=n.map(function(e){return i.map(function(t){return JSON.stringify(e[t],r)}).join(",")});c.unshift(i.join(",")),c=c.join("\r\n");var o=new Blob([c],{type:"text/csv;charset=utf-8"});J.a.saveAs(o,"export_data_".concat(e,".csv")),t=a};return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(q,null,r.a.createElement(H.a,{placement:"bottom",title:"Show side panel to setup Navio: change type, color and visibility of the attributes."},r.a.createElement(v.a,{onClick:c},r.a.createElement(m.a,{type:"setting"}),"Navio")),r.a.createElement(H.a,{placement:"bottom",title:"Export the filtered data in csv format."},r.a.createElement(v.a,{onClick:function(){return o()}},r.a.createElement(m.a,{type:"table"}),"Export data")),r.a.createElement(H.a,{placement:"bottom",title:"Export an embedded version of the visualization (data.csv + index.html)."},r.a.createElement(v.a,{onClick:function(){var e=Math.floor(999999*Math.random()),t="text/html",a=[],r=[];n.forEach(function(e){"categorical"===e.type?a.push(e.name):r.push(e.name)});var i='<!DOCTYPE html>\n    <html lang="en">\n    <head>\n      <meta charset="UTF-8">\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n      <meta http-equiv="X-UA-Compatible" content="ie=edge">\n      <title>Navio</title>\n    </head>\n    <body>\n      <div id="navio"></div>\n\n      <script src="https://d3js.org/d3.v4.min.js"><\/script>\n      <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"><\/script>\n      <script src="https://unpkg.com/popper.js@1.14/dist/umd/popper.min.js"><\/script>\n      <script type="text/javascript" src="https://unpkg.com/navio/dist/navio.min.js"><\/script>\n      <script type="text/javascript">\n        let nn = navio("#navio", 600);\n        let cat = "CATEGORICAL"\n        let seq = "SEQUENTIAL";\n        let text = "TEXT";\n        let bool = "BOOLEAN";\n        let divergent = "DIVERGENT";\n        let date = "DATE";\n      let attributes = JSON.parse(\''.concat(JSON.stringify(n),"');\n        d3.csv(\"./export_data_").concat(e,".csv\", function (err, data) {\n          if (err) throw err;\n        data.forEach((row) => {\n          attributes.forEach(att => {\n            if (att.type === date) {\n              let mydate = new Date(row[att.name]);\n              if(isNaN(mydate.getDate())){\n                row[att.name] = null;\n              } else {\n                row[att.name] = mydate\n              }\n            }\n            else if (att.type === seq) {\n              let mynumber = +row[att.name];\n              if (isNaN(mynumber)) {\n                row[att.name] = null;\n              } else {\n                row[att.name] = mynumber;\n              }\n            } else if (att.type === bool) {\n              let myBool = row[att.name];\n              if (myBool.toLowerCase() === 'true') {\n                row[att.name] = true;\n              } else {\n                row[att.name] = false;\n              }\n            }\n          })\n        })\n\n        attributes.forEach((d,i) => {\n            if (d.checked) {\n              switch (d.type) {\n                case cat:\n                  nn.addCategoricalAttrib(d.name);\n                  break;\n                case text:\n                  nn.addTextAttrib(d.name);\n                  break;\n                case bool:\n                  nn.addBooleanAttrib(d.name);\n                  break;\n                case divergent:\n                  nn.addDivergingAttrib(d.name);\n                  break;\n                case date:\n                  nn.addDateAttrib(d.name);\n                  break;\n                case seq:\n                  nn.addSequentialAttrib(d.name);\n                  break\n                default:\n                  nn.addCategoricalAttrib(d.name);\n              }\n           }\n          })\n        nn.data(data);\n      });\n      <\/script>\n    </body>\n    </html>");o(e),t=t||"text/plain";var c=new Blob([i],{type:"".concat(t,";charset=utf-8")});J.a.saveAs(c,"index.html")}},r.a.createElement(m.a,{type:"export"}),"Export Vis")),r.a.createElement(H.a,{placement:"bottom",title:"Choose another dataset."},r.a.createElement(v.a,{onClick:i},r.a.createElement(m.a,{type:"swap"}),"Change data"))))}),Q=a(61),X=a(83),Y=a(457),K=a(94),$=a(453),Z=(a(397),K.a.Option),ee=K.a.OptGroup,te=function(e){function t(){var e,a;Object(B.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).state={checked:a.props.checked},a}return Object(M.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleVisible,n=t.changeCheckStatus,i=t.changeTypeStatus,c=t.attribute;console.log(c.alias);return r.a.createElement(E.a,{type:"flex",align:"middle",className:"attribute"},r.a.createElement(h.a,{span:2},r.a.createElement(H.a,{placement:"right",title:"Change color and alias"},r.a.createElement(v.a,{shape:"circle",size:"small",onClick:function(){e.setState({visible:!c.__visible}),a(c.__id,!c.__visible)}},r.a.createElement(m.a,{type:"down",className:"down ".concat(c.__visible?"down--rotated":"")})))),r.a.createElement(h.a,{span:10,className:"truncate"},c.alias),r.a.createElement(h.a,{span:8},r.a.createElement(H.a,{placement:"bottom",title:"Change attribute type"},r.a.createElement(K.a,{size:"small",style:{width:"100%"},dropdownMatchSelectWidth:!1,value:c.type,onChange:function(t){e.setState({attribute:c}),i(c,t)}},r.a.createElement(ee,{label:"unordered"},r.a.createElement(Z,{value:"CATEGORICAL"},"Categorical"),r.a.createElement(Z,{value:"TEXT"},"Text"),r.a.createElement(Z,{value:"BOOLEAN"},"Boolean")),r.a.createElement(ee,{label:"ordered"},r.a.createElement(Z,{value:"ORDINAL"},"Ordinal"),r.a.createElement(Z,{value:"SEQUENTIAL"},"Sequential"),r.a.createElement(Z,{value:"DATE"},"Date"),r.a.createElement(Z,{value:"DIVERGENT"},"Divergent"))))),r.a.createElement(h.a,{span:2},r.a.createElement(H.a,{placement:"right",title:"Here you can hide this attribute in Navio"},r.a.createElement($.a,{size:"small",defaultChecked:!0,checked:c.checked,style:{marginLeft:"2em"},onChange:function(t){e.setState({checked:t}),n(c,t)}}))))}}]),t}(n.Component),ae=Object(s.b)(null,function(e){return{toggleVisible:function(t,a){e(C(t,a))},changeTypeStatus:function(t,a){e(k(t,a)),e({type:"UPDATE_ATTRIBUTE"})},changeCheckStatus:function(t,a){e(j(t,a)),e({type:"UPDATE_ATTRIBUTE"})}}})(te),ne=(a(407),Object(X.SortableElement)(function(e){var t=e.attribute,a=e.setAlias;return r.a.createElement("div",{className:"sortableItem"},r.a.createElement(ae,{attribute:t}),r.a.createElement("div",{className:"box ".concat(t.__visible?"":"hide")},r.a.createElement("div",{className:"settings"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("div",{className:"color"},r.a.createElement("div",null,r.a.createElement("div",null,"color")),r.a.createElement("div",null)),r.a.createElement("hr",null),r.a.createElement("div",{className:"alias"},r.a.createElement("div",null,"alias"),r.a.createElement("div",null,r.a.createElement(Y.a,{size:"small",addonAfter:[r.a.createElement(m.a,{key:t.name,style:{color:"blue"},type:"check"}),r.a.createElement(g.a,{key:t.name+"1",type:"vertical"}),r.a.createElement(m.a,{key:t.name+"2",style:{color:"red"},type:"delete"})],defaultValue:t.alias,onChange:function(e){return a(e.target.value,t.__id)}})))),r.a.createElement("div",null))))})),re=Object(s.b)(function(e){return{attributes:e.shipyard.attributes}},function(e){return{setAlias:function(t,a){e(function(e,t){return{type:"SET_ALIAS",alias:e,index:t}}(t,a))}}})(ne),ie=Object(X.SortableContainer)(function(e){var t=e.attributes;return r.a.createElement("ul",null,t.map(function(e){return r.a.createElement(re,{key:e.__id,index:e.__id,attribute:e})}))}),ce=(a(408),Object(s.b)(function(e){return{attributes:e.shipyard.attributes}},function(e){return{changeCheckStatus:function(t,a){e(j(t,a)),e({type:"UPDATE_ATTRIBUTE"})},changeTypeStatus:function(t,a){e(k(t,a)),e({type:"UPDATE_ATTRIBUTE"})},toggleVisible:function(t,a){e(C(t,a))},reorderAttributes:function(t){e({type:"SET_ATTRIBUTES",attributes:t}),e({type:"UPDATE_ATTRIBUTE"})}}})(function(e){var t=e.attributes,a=e.reorderAttributes;return r.a.createElement(ie,{attributes:t,onSortEnd:function(e){var n=e.oldIndex,r=e.newIndex;if(n!==r){var i=Object(Q.a)(t),c=Object(X.arrayMove)(i,n,r);a(c)}}})})),oe=(a(409),a(19)),se=a(218),le=a.n(se),ue="CATEGORICAL",de="DATE",me="TEXT",pe="BOOLEAN",be="DIVERGENT",Ee="SEQUENTIAL",he=function(e){function t(){var e,a;Object(B.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(R.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).getScaleOrdinalScheme=function(e){switch(e){case"scheme10":default:return Object(V.d)(oe.schemeCategory10)}},a.getScaleOrdinalColor=function(e){switch(e){case"blue":return Object(V.d)(oe.schemeBlues);case"purple":return Object(V.d)(oe.schemePurples);case"red":return Object(V.d)(oe.schemeReds);case"green":return Object(V.d)(oe.schemeGreens);case"gray":return Object(V.d)(oe.schemeGreys);case"orange":return Object(V.d)(oe.schemeOranges);default:return Object(V.b)(oe.schemeOranges)}},a.getScaleTimeColor=function(e){switch(e){case"blue":return Object(V.j)(oe.schemeBlues);case"purple":return Object(V.j)(oe.schemePurples);case"red":return Object(V.j)(oe.schemeReds);case"green":return Object(V.j)(oe.schemeGreens);case"gray":return Object(V.j)(oe.schemeGreys);case"orange":return Object(V.j)(oe.schemeOranges);default:return Object(V.j)(oe.schemeGreys)}},a.setupNavio=function(){for(var e=le()(Object(W.f)(a.target),600).updateCallback(a.props.updateFilteredData),t=0;t<a.props.attributes.length;t++){var n=a.props.attributes[t];if(n.checked)switch(n.type){case ue:e.addCategoricalAttrib(n.name);break;case me:e.addTextAttrib(n.name);break;case pe:e.addBooleanAttrib(n.name);break;case be:e.addDivergingAttrib(n.name);break;case de:e.addDateAttrib(n.name);break;case Ee:e.addSequentialAttrib(n.name);break;default:e.addTextAttrib(n.name)}}e.data(a.props.data)},a}return Object(M.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.setupNavio()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.updated,a=e.updateAttribute;t&&(this.deleteWidget(),a(),this.setupNavio())}},{key:"deleteWidget",value:function(){for(var e=document.getElementById("vis");e.firstChild;)e.removeChild(e.firstChild)}},{key:"render",value:function(){var e=this,t=["sidebar"],a=["vis"];return this.props.showSidebar||(t.push("hide"),a.push("vis--hide")),r.a.createElement("div",null,r.a.createElement(F,null),r.a.createElement("div",{className:"container-vis"},r.a.createElement("div",{className:t.join(" ")},r.a.createElement(ce,null)),r.a.createElement("div",{className:a.join(" ")},r.a.createElement("div",{id:"vis",ref:function(t){return e.target=t}}))))}}]),t}(n.Component),fe=Object(s.b)(function(e){return{showSidebar:e.ui.showSidebar,attributes:e.shipyard.attributes,data:e.shipyard.data,updated:e.shipyard.updated}},function(e){return{updateAttribute:function(){return e({type:"UPDATE_ATTRIBUTE"})},updateFilteredData:function(t){return e({type:"UPDATE_FILTERED_DATA",exportData:t})}}})(he),ge=a(454),ve=Object(s.b)(function(e){return{exportData:e.shipyard.exportData,attributes:e.shipyard.attributes}})(function(e){var t=e.exportData,a=e.attributes,n=t.slice(0),i=[],c=0;return a.forEach(function(e){if("DATE"!==e.type&&"DATE"!==e.data||n.forEach(function(t){t[e.name]=t[e.name].toString()}),"DATE"!==e.data||"DATE"!==e.type){var t={};t.title=e.name,t.dataIndex=e.name,t.key=e.name,t.width=150,i.push(t)}}),n.forEach(function(e){e.key=e.__seqId||c++}),r.a.createElement(E.a,null,r.a.createElement(ge.a,{rowKey:"key",bordered:!0,pagination:!0,dataSource:n,columns:i,scroll:{x:150*i.length,y:"70vh"}}))}),ye=Object(s.b)(function(e){return{dataLoaded:e.ui.dataLoaded,showSidebar:e.ui.showSidebar}})(function(e){var t=e.dataLoaded,a=e.showSidebar?24:12;return r.a.createElement("div",{style:{height:"100%",margin:"0px 16px"}},r.a.createElement("div",null,t?r.a.createElement(E.a,{gutter:16},r.a.createElement(h.a,{span:a},r.a.createElement(fe,null)),r.a.createElement(h.a,{span:a},r.a.createElement(ve,null))):r.a.createElement(G,null)))}),Te=(a(448),Object(s.b)(function(e){return{loading:e.ui.loading}})(function(e){var t=e.loading?"loader--show":"loader--hide";return r.a.createElement("div",{className:t},r.a.createElement(m.a,{type:"loading",style:{fontSize:"64px"}}))})),Ae=u.a.Header,Oe=u.a.Content,_e=u.a.Footer,Se={marginBottom:"1em",padding:0,backgroundColor:"white",boxShadow:"0 5px 4px rgba(0,0,0,0.15), 0 4px 4px rgba(0,0,0,0.12)"},we={minHeight:"100vh",height:"100vh"},De=function(){return r.a.createElement("div",{style:we},r.a.createElement(Te,null),r.a.createElement(u.a,{style:{height:"100%"}},r.a.createElement(d.a,null,r.a.createElement(Ae,{style:Se},r.a.createElement(p,null))),r.a.createElement(Oe,null,r.a.createElement(ye,null)),r.a.createElement(_e,null,r.a.createElement(b,null))))},je={data:[],attributes:[],exportData:[],source:[],updated:!1,datasets:[{id:1,title:"Followers of presidential candidates Colombia 2018",description:"Dataset with information about followers on twitter of the presidential cadidates.",name:"all_followers_id.csv",size:1048575,n_attributes:10},{id:2,title:"MoMA Collection",description:"Evolving collection contains almost 130,000 works of modern and contemporary art.",name:"Artworks_less_columns.csv",size:131585,n_attributes:14},{id:3,title:"VAST Challenge 2017",description:"The VAST Challenge 2017 offered three mini-challenges and a grand challenge dealing with environmental problems potentially caused by human patterns of life and potentially harmful chemically laden effluent plumes being emitted from factory smokestacks. The data provided included traffic patterns, sensor data though the Boonsong Lekagul Nature Preserve.",name:"Lekagul Sensor Data.csv",size:171477,n_attributes:4},{id:4,title:"IEEE VIS Papers",description:"IEEE VIS Publications 1990-2018",name:"IEEE_VIS_papers_1990_2018",size:3101,n_attributes:18}]},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA":var a=t.data,n=t.attributes,r=t.source;return Object.assign({},e,{source:r,data:a,attributes:n,exportData:a});case"RESET_DATA":return je;case"CHANGE_CHECK_STATUS":return Object.assign({},e,{attributes:e.attributes.map(function(e){return e.name===t.attribute.name&&(e.checked=t.status),e})});case"CHANGE_TYPE_STATUS":return Object.assign({},e,{attributes:e.attributes.map(function(e){return e.name===t.attribute.name&&(e.type=t.status),e}),data:e.source.map(function(e){switch(t.status){case"DATE":e[t.attribute.name]=new Date(e[t.attribute.name]);break;case"SEQUENTIAL":e[t.attribute.name]=+e[t.attribute.name];break;case"BOOLEAN":"true"===e[t.attribute.name].toLowerCase()?e[t.attribute.name]=!0:e[t.attribute.name]=!1;break;default:e[t.attribute.name]=e[t.attribute.name].toString()}return e})});case"UPDATE_ATTRIBUTE":return Object.assign({},e,{updated:!e.updated});case"UPDATE_FILTERED_DATA":return Object.assign({},e,{exportData:t.exportData});case"TOGGLE_SETTINGS_VISIBLE":return Object.assign({},e,{attributes:e.attributes.map(function(e){return t.index===e.__id&&(e.__visible=t.visible),e})});case"SET_ATTRIBUTES":return Object.assign({},e,{attributes:t.attributes});case"SET_ATTRIBUTE_COLOR":return Object.assign({},e,{attributes:e.attributes.map(function(e){return e.name===t.attributeName&&(e.color=t.color),e})});case"SET_ALIAS":return Object.assign({},e,{attributes:e.attributes.map(function(e){return t.index===e.__id&&(e.alias=t.alias),e})});case"TOGGLE_COLOR_VISIBLE":default:return e}},Ce={confirmLoading:!1,closed:!0,loading:!1,visible:!1,dataLoaded:!1,showSidebar:!1},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return Object.assign({},e,{visible:!e.visible});case"TOGGLE_LOADING":return Object.assign({},e,{loading:!e.loading});case"TOGGLE_DATA_LOADED":return Object.assign({},e,{dataLoaded:!e.dataLoaded});case"RESET_DATA":return Ce;case"TOGGLE_SIDEBAR":return Object.assign({},e,{showSidebar:!e.showSidebar});case"HIDE_ATTRIBUTE":return Object.assign({},e,{attributes:e.attributes.map(function(e){return t.index===e.__id&&(e.__visible=!1),e})});case"SHOW_ATTRIBUTE":return Object.assign({},e,{attributes:e.attributes.map(function(e){return t.index===e.__id&&(e.__visible=!0),e})});case"SET_COMPONENT_CLASSES":var a=[];return t.attributes.forEach(function(e,t){var n={classes:["box","hide"]};n.index=t,a.push(n)}),Object.assign({},e,{componentClasses:a});default:return e}},Le=Object(o.c)({shipyard:ke,ui:Ne}),xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ie(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(449);var Ge=Object(l.createLogger)(),Be=Object(o.d)(Le,Object(o.a)(i.a,Ge));Object(c.render)(r.a.createElement(s.a,{store:Be},r.a.createElement(De,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");xe?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ie(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Ie(e)})}}()}},[[227,1,2]]]);
//# sourceMappingURL=main.1d6c53c6.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{237:function(e,t,n){},257:function(e,t,n){e.exports=n(525)},318:function(e,t){},507:function(e,t,n){},508:function(e,t,n){},524:function(e,t,n){},525:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(238),i=n(11),l=n(84),s=n(28),c=n(242),u=n(533),d=n(534),p=n(15),m=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:"1.5em",textAlign:"center"}},r.a.createElement(p.a,{style:{marginRight:"0.5em"},type:"compass"}),"Shipyard"))},f=function(){return r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("a",{href:"https://github.com/john-guerra/Navio",target:"_blank",rel:"noopener noreferrer"},"Github Project MIT License ",r.a.createElement(p.a,{type:"github"})))},h=n(98),g=n(56),v=n(529),b=n(526),y=n(46),E=n(532),O=n(530),T=n(66),A=[["SEQUENTIAL","NUMBER"],["DATE","DATE"],["CATEGORICAL","STRING"]],w=function(e){var t=isNaN(e),n=function(e){var t=new Date(e);return!isNaN(t.getDate())}(e);return t?n?1:2:0},S=function(e,t,n){for(var a=JSON.parse(JSON.stringify(t)),r=[],o=/^(id|key)|(id|key)$|\W+\_*(key|id)+\_*\W+|\W+\_*(key|id)+\_*\W*/gim,i=function(e,t){for(var n=[],a=1;a<e+1;a++)n.push(a);return n.map(function(n){return Math.floor(t.length*(n/e))-1}).map(function(e){return t[e]})}(6,n),l=function(n){o.test(a[n].name)&&(a[n].id=!0,r.push(t[n].name));var l=i.map(function(t){return t[e[n]]}).map(w),s=[0,0,0];l.forEach(function(e){return s[e]+=1});for(var c=0,u=0,d=0;d<s.length;d++)s[d]>c&&(c=s[d],u=d);var p=Object(T.a)(A[u],2),m=p[0],f=p[1];a[n].type=m,a[n].data=f},s=0;s<e.length;s+=1)l(s);return[a,r]},C=function(e){for(var t,n=e.slice(0),a=[],r=Object.keys(e[0]),o=0;o<r.length;o+=1){var i={name:r[o],alias:r[o],checked:!0,type:"",id:!1,settings:!1};a.push(i)}var l=S(r,a,e),s=Object(T.a)(l,2);return a=s[0],t=s[1],{type:"SET_DATA",source:n,data:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return a.forEach(function(e){if("DATE"===e.data){var n=new Date(t[e.name]);isNaN(n.getDate())||(t[e.name]=n)}else if("NUMBER"===e.data){var a=+t[e.name];isNaN(a)||(t[e.name]=a)}}),t}),attributes:a,ids:t}},x=function(e){return{type:"SET_COMPONENT_CLASSES",attributes:e}},_=function(e,t){return{type:"CHANGE_CHECK_STATUS",attribute:e,status:t}},k=function(e,t){return{type:"CHANGE_TYPE_STATUS",attribute:e,status:t}},D=function(e,t){return{type:"TOGGLE_SETTINGS_VISIBLE",index:e,visible:t}},j=function(e,t,n){return{type:"SET_ATTRIBUTE_COLOR",color:e,event:t,index:n}},N=n(40),L=Object(s.b)(function(e){return{visible:e.ui.visible,datasets:e.shipyard.datasets,confirmLoading:e.ui.confirmLoading}},function(e){return{showModal:function(){return e({type:"SHOW_MODAL"})},handleOk:function(t){return e(void 0)},handleCancel:function(){return e({type:"SHOW_MODAL"})},setData:function(t){return e(C(t))},toggleLoading:function(){return e({type:"TOGGLE_LOADING"})},toggleDataLoaded:function(){return e({type:"TOGGLE_DATA_LOADED"})},setComponentClasses:function(t){return e(x(t))}}})(function(e){var t=e.visible,n=e.datasets,a=e.confirmLoading,o=e.showModal,i=e.handleOk,l=e.handleCancel,s=e.setData,c=e.toggleLoading,u=e.toggleDataLoaded,d=e.setComponentClasses;return r.a.createElement("div",null,r.a.createElement(y.a,{type:"primary",ghost:!0,onClick:o},"Choose one"),r.a.createElement(E.a,{title:"Datasets",visible:t,onOk:i,confirmLoading:a,onCancel:l,width:"90%",footer:[r.a.createElement(y.a,{onClick:l,key:"back"},"Cancel")]},r.a.createElement(h.a,{gutter:32},n.map(function(e){return r.a.createElement(g.a,{xs:24,sm:12,md:12,lg:6,xl:6,key:e.id},r.a.createElement(O.a,{onClick:function(){return t=e.name,c(),void N.a("".concat("https://raw.githubusercontent.com/john-guerra/shipyard/master/public/datasets/").concat(t),function(e,t){if(e)throw e;s(t),d(Object.keys(t[0])),c(),u(),l()});var t},className:"hoverable",title:e.title,style:{width:"100%",height:"30vh",overflowY:"scroll",cursor:"pointer",marginBottom:32}},r.a.createElement("p",null,"Description: ",e.description),r.a.createElement("p",null,"Records(rows): ",e.size),r.a.createElement("p",null,"Attributes: ",e.n_attributes)))}))))}),I=n(254),P=v.a.Dragger,G=Object(s.b)(function(e){return{attributes:e.shipyard.attributes}},function(e){return{toggleLoading:function(){return e({type:"TOGGLE_LOADING"})},setData:function(t){return e(C(t))},toggleDataLoaded:function(){return e({type:"TOGGLE_DATA_LOADED"})},setComponentClasses:function(t){return e(x(t))}}})(function(e){e.attributes;var t=e.toggleLoading,n=e.setData,a=e.toggleDataLoaded,o=e.setComponentClasses,i=function(e){var r=new window.FileReader;null!=e&&(r.onload=function(r){var i,l=e.name.split(".").pop().toLowerCase();try{i=I.a(r.target.result,{type:l}),n(i),o(Object.keys(i[0])),t(),a()}catch(s){console.error(s)}},r.readAsText(e))};return r.a.createElement("div",{style:{textAlign:"center",margin:"1em"}},r.a.createElement(P,{style:{alignItems:"center",minHeight:"70vh"},accept:".csv,.tsv,.txt",beforeUpload:function(e){t(),i(e)},name:"file"},r.a.createElement("div",{className:"dragger"},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(p.a,{type:"upload"})),r.a.createElement("h1",{style:{fontSize:"2em"}},"Drag and drop or click here to upload your dataset"),r.a.createElement("p",{className:"ant-upload-hint"},"*.csv, *.tsv and *.txt files allowed."))),r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement("p",null,"or you can click below to explore pre-loaded datasets"))),r.a.createElement("div",null,r.a.createElement(L,null)))}),B=n(60),R=n(61),U=n(85),M=n(83),z=n(86),q=n(21),W=n(6),F=n(138),V=n(179),H=n.n(V),J=y.a.Group,K=Object(s.b)(function(e){return{exportData:e.shipyard.exportData,data:e.shipyard.data,attributes:e.shipyard.attributes}},function(e){return{resetData:function(){return e({type:"RESET_DATA"})},toggleSidebar:function(){return e({type:"TOGGLE_SIDEBAR"})}}})(function(e){var t=e.exportData,n=(e.data,e.attributes),a=e.resetData,o=e.toggleSidebar,i=function(){var e=t;e.forEach(function(e){return delete e.__i});var n=e.slice(),a=function(e,t){return null===t?"":t},r=Object.keys(n[0]),o=n.map(function(e){return r.map(function(t){return JSON.stringify(e[t],a)}).join(",")});o.unshift(r.join(",")),o=o.join("\r\n");var i=new Blob([o],{type:"text/csv;charset=utf-8"});H.a.saveAs(i,"export_data.csv")};return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(J,null,r.a.createElement(F.a,{placement:"bottom",title:"Show sidebar to hide/show attributes and change their type."},r.a.createElement(y.a,{onClick:o},r.a.createElement(p.a,{type:"setting"}),"Setup Navio")),r.a.createElement(F.a,{placement:"bottom",title:"Export the filtered data in csv format."},r.a.createElement(y.a,{onClick:i},r.a.createElement(p.a,{type:"table"}),"Export data")),r.a.createElement(F.a,{placement:"bottom",title:"Export an embedded version of the visualization (data.csv + index.html)."},r.a.createElement(y.a,{onClick:function(){var e="text/html",t=[],a=[];n.forEach(function(e){"categorical"===e.type?t.push(e.name):a.push(e.name)});var r='<!DOCTYPE html>\n    <html lang="en">\n    <head>\n      <meta charset="UTF-8">\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n      <meta http-equiv="X-UA-Compatible" content="ie=edge">\n      <title>Navio</title>\n    </head>\n    <body>\n      <div id="navio"></div>\n\n      <script src="https://d3js.org/d3.v4.min.js"><\/script>\n      <script src="https://d3js.org/d3-interpolate.v1.min.js"><\/script>\n      <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"><\/script>\n      <script type="text/javascript" src="https://unpkg.com/navio@0.0.29/dist/navio.min.js"><\/script>\n      <script type="text/javascript">\n        let nn = navio("#navio", 600);\n        let cat = "CATEGORICAL"\n        let seq = "SEQUENTIAL";\n        let date = "DATE"\n      let attributes = JSON.parse(\''.concat(JSON.stringify(n),'\');\n        d3.csv("./export_data.csv", function (err, data) {\n          if (err) throw err;\n        data.forEach((row) => {\n          attributes.forEach(att => {\n            if (att.data === date) {\n              let mydate = new Date(row[att.name]);\n              if(isNaN(mydate.getDate())){\n                row[att.name] = null;\n              }else {\n                row[att.name] = mydate\n              }\n\n            }\n            else if (att.data=== "number") {\n              let mynumber = +row[att.name];\n              if(isNaN(mynumber)){\n                row[att.name] = null;\n              }else{\n                row[att.name] = mynumber;\n              }\n            }\n          })\n        })\n\n        attributes.forEach((d,i) => {\n            if (d.checked) {\n              if (d.type === cat) {\n                nn.addCategoricalAttrib(d.name);\n              } else if (d.type === seq) {\n                if (d.data === date) {\n                  nn.addSequentialAttrib(d.name,\n                            d3.scalePow()\n                              .exponent(0.25)\n                              .range([d3.interpolatePurples(0), d3.interpolatePurples(1)]))\n                }\n                else {\n                  nn.addSequentialAttrib(d.name);\n                }\n              }\n           }\n          })\n        nn.data(data);\n      });\n      <\/script>\n    </body>\n    </html>');i(),e=e||"text/plain";var o=new Blob([r],{type:"".concat(e,";charset=utf-8")});H.a.saveAs(o,"index.html")}},r.a.createElement(p.a,{type:"export"}),"Export visualization")),r.a.createElement(F.a,{placement:"bottom",title:"Choose another dataset."},r.a.createElement(y.a,{onClick:a},r.a.createElement(p.a,{type:"swap"}),"Change dataset"))))}),Q=n(53),Y=n(97),X=(n(176),n(531)),$=n(109),Z=n(527),ee=$.a.Option,te=$.a.OptGroup,ne=function(e){function t(){var e,n;Object(B.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={checked:n.props.checked,settings:n.props.settings},n}return Object(z.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.index,a=t.attribute,o=t.toggleVisible,i=t.changeCheckStatus,l=t.changeTypeStatus,s=t.addComponentClass,c=t.deleteLastComponentClass,u=a.settings?"up":"setting";return r.a.createElement(h.a,{type:"flex",align:"middle",justify:"center",className:"attribute"},r.a.createElement(g.a,{span:2,offset:1},r.a.createElement(y.a,{shape:"circle",size:"small",onClick:function(){console.log("onClick"),e.setState({settings:!a.settings}),o(n,!a.settings),a.settings?c(n):s("hide",n)}},r.a.createElement(p.a,{type:u}))),r.a.createElement(g.a,{span:8,offset:1},a.name),r.a.createElement(g.a,{span:8},console.log(a.name,a.type),r.a.createElement($.a,{size:"small",style:{width:"100%"},dropdownMatchSelectWidth:!1,value:a.type,onChange:function(e){return l(a,e)}},r.a.createElement(te,{label:"unordered"},r.a.createElement(ee,{value:"CATEGORICAL"},"CATEGORICAL")),r.a.createElement(te,{label:"ordered"},r.a.createElement(ee,{value:"ORDINAL"},"ORDINAL"),r.a.createElement(ee,{value:"SEQUENTIAL"},"SEQUENTIAL"),r.a.createElement(ee,{value:"DATE"},"DATE")))),r.a.createElement(g.a,{span:4},r.a.createElement(F.a,{placement:"right",title:"Here you can change this dimension visibility"},r.a.createElement(Z.a,{size:"small",defaultChecked:!0,checked:a.checked,style:{marginLeft:"2em"},onChange:function(t){console.log(t),e.setState({checked:t}),i(a,t)}}))))}}]),t}(a.Component),ae=Object(s.b)(function(e,t){return{attribute:e.shipyard.attributes[t.index],index:t.index}},function(e){return{toggleVisible:function(t,n){e(D(t,n))},changeTypeStatus:function(t,n){e(k(t,n)),e({type:"UPDATE_ATTRIBUTE"})},changeCheckStatus:function(t,n){e(_(t,n)),e({type:"UPDATE_ATTRIBUTE"})},deleteLastComponentClass:function(t){return e(function(e){return{type:"DELETE_COMPONENT_CLASS",index:e}}(t))},addComponentClass:function(t,n){return e(function(e,t){return{type:"ADD_COMPONENT_CLASS",className:e,index:t}}(t,n))}}})(ne),re=(n(237),$.a.Option),oe=function(e){function t(){return Object(B.a)(this,t),Object(U.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props,t=e.setColor,n=e.name;return"categorical"==this.props.type?ie():se(t,n)}}]),t}(a.Component),ie=function(){var e=N.c(N.d),t=N.b(10);N.b(20);return r.a.createElement($.a,{size:"small",defaultValue:"scheme10",className:"color-selector"},r.a.createElement(re,{value:"scheme10"},r.a.createElement("div",{className:"scheme10"},t.map(function(t,n){return r.a.createElement("div",{key:n+"10",style:{width:20,height:20,backgroundColor:e(t)}})}))))},le=(a.Component,["blue","green","gray","orange","purple","red"]),se=function(e,t){return console.log(e),r.a.createElement("div",{className:"sequential-picker"},le.map(function(n){return r.a.createElement(y.a,{key:n,onClick:function(a){return e(n,t)},shape:"circle",style:{backgroundColor:n}})}))},ce=Object(s.b)(function(e,t){return{type:t.type,name:t.name}},function(e){return{setColor:function(t,n){e({type:"SET_ATTRIBUTE_COLOR",color:t,attributeName:n}),e({type:"UPDATE_ATTRIBUTE"})}}})(oe),ue=(y.a.Group,function(e,t,n){console.log("onChangeInput"),console.log(e,t,n)}),de=Object(Y.SortableElement)(function(e){var t=e.attribute,n=e.number,a=e.componentClasses;e.setColor,e.toggleColorVisible;return r.a.createElement("div",{className:"sortableItem",style:{padding:"0.25em",backgroundColor:"white",marginBottom:"0em",cursor:"move",borderRadius:"2px"}},r.a.createElement(ae,{attribute:t,index:n}),r.a.createElement("div",{className:a.join(" ")},r.a.createElement("div",{className:"settings"},r.a.createElement("hr",null),r.a.createElement("div",{className:"color"},r.a.createElement("div",null,r.a.createElement("div",null,"color")),r.a.createElement("div",null,r.a.createElement(ce,{type:t.type,name:t.name}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"alias"},r.a.createElement("div",null,"alias"),r.a.createElement("div",null,r.a.createElement(X.a,{size:"small",addonAfter:[r.a.createElement(p.a,{key:t.name,style:{color:"blue"},type:"check"}),r.a.createElement(b.a,{key:t.name+"1",type:"vertical"}),r.a.createElement(p.a,{key:t.name+"2",style:{color:"red"},type:"delete"})],defaultValue:t.alias,onChange:ue,onPressEnter:ue}))))))}),pe=Object(s.b)(function(e,t){return{attribute:e.shipyard.attributes[t.number],componentClasses:e.ui.componentClasses[t.number].classes,number:t.number}},function(e){return{setColor:function(t,n,a){return e(j(t,n,a))},toggleColorVisible:function(t){return e(function(e){return{type:"TOGGLE_COLOR_VISIBLE",index:e}}(t))},setAlias:function(t,n){return e(function(e,t){return{type:"SET_ALIAS",event:e,attribute:t}}(t,n))}}})(de),me=Object(Y.SortableContainer)(function(e){var t=e.items;return r.a.createElement("ul",{style:{marginTop:"2em",width:"90%"}},t.map(function(e,t){return r.a.createElement(pe,{key:"item-".concat(t),index:t,number:t,attribute:e})}))}),fe=Object(s.b)(function(e){return{items:e.shipyard.attributes}})(me),he=(n(507),Object(s.b)(function(e){return{attributes:e.shipyard.attributes}},function(e){return{changeCheckStatus:function(t,n){e(_(t,n)),e({type:"UPDATE_ATTRIBUTE"})},changeTypeStatus:function(t,n){e(k(t,n)),e({type:"UPDATE_ATTRIBUTE"})},toggleVisible:function(t,n){e(D(t,n))},reorderAttributes:function(t,n,a){e({type:"SET_ATTRIBUTES",attributes:t}),e({type:"SWAP_COMPONENT_CLASSES",i:n,j:a}),e({type:"UPDATE_ATTRIBUTE"})},setColor:function(t,n,a){return e(j(t,n,a))}}})(function(e){var t=e.attributes,n=(e.toggleVisible,e.reorderAttributes);e.setColor;return r.a.createElement(fe,{onSortEnd:function(e){var a=e.oldIndex,r=e.newIndex;if(a!==r){var o=Object(Q.a)(t),i=Object(Y.arrayMove)(o,a,r);n(i,a,r)}}})})),ge=(n(508),n(20)),ve=n(12),be=function(){function e(t){Object(B.a)(this,e),this.first=t.first,this.last=t.last,this.level=t.level}return Object(R.a)(e,[{key:"filter",value:function(e){return e.__i[this.level]>=this.first.__i[this.level]&&e.__i[this.level]<=this.last.__i[this.level]}}]),e}(),ye=function(){function e(t){Object(B.a)(this,e),this.itemAttr=t.itemAttr,this.sel=t.sel}return Object(R.a)(e,[{key:"filter",value:function(e){return e[this.itemAttr]===this.sel[this.itemAttr]}}]),e}(),Ee=!1;var Oe=function(e,t){var n,a,r,o,i,l=this||{},s=[],c=[],u=[],d=[],p=ve.map(),m=ve.map(),f=[],h=[],g=[],v=[],b=[],y=void 0!==t?t:600,E=ve.map(),O="interpolateBlues"in ve?ve.interpolateBlues:ge.interpolateBlues,A="interpolatePurples"in ve?ve.interpolatePurples:ge.interpolatePurples,w="interpolateBrBG"in ve?ve.interpolateBrBG:ge.interpolateBrBG,S=["white","#b5cf6b"],C=ve.format(",.0d"),x=0,_=100,k="__seqId",D=function(){};function j(){Ee&&console.log("nozoom"),ve.event.preventDefault()}l.howManyItemsShouldSearchForNotNull=100,l.margin=10,l.attribWidth=15,l.levelsSeparation=40,l.divisionsColor="white",l.levelConvectionsColor="rgba(205, 220, 163, 0.5)",l.divisionsThreshold=4,l.attribFontSize=13,l.attribFontSizeSelected=32,l.startColor="white",l.endColor="red",l.legendFont="14px Arial",l.linkColor="#2171b5",(e=void 0===(e="string"===typeof e?ve.select(e):e).selectAll?ve.select(e):e).selectAll("*").remove(),e.on("touchstart",j).on("touchmove",j).style("height",y+"px").attr("class","navio").append("div").attr("id","navio").style("position","relative"),e.select("#navio").append("canvas");var N=e.select("#navio").append("svg").style("overflow","visible").style("position","absolute").style("z-index",99).style("top",0).style("left",0);N.append("g").attr("class","attribs"),N.append("g").attr("class","nvTooltip").style("text-shadow","0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff").attr("transform","translate(-100,-10)").append("text").attr("x",0).attr("y",0).style("pointer-events","none").style("font-family","sans-serif").style("font-size","16pt").style("text-anchor","middle"),N.select(".nvTooltip > text").append("tspan").attr("class","tool_id").attr("x",0).attr("dy","1.2em"),N.select(".nvTooltip > text").append("tspan").attr("class","tool_value_name").style("font-weight","bold").attr("x",0).attr("dy","1.2em"),N.select(".nvTooltip > text").append("tspan").attr("class","tool_value_val").style("font-weight","bold").attr("x",0).attr("dy","1.2em"),N.append("g").attr("id","closeButton").style("fill","white").style("stroke","black").style("display","none").append("path").call(function(e){var t=ve.path();t.moveTo(0,0),t.lineTo(7,7),t.moveTo(7,0),t.lineTo(0,7),t.moveTo(11.9,3.5),t.arc(3.5,3.5,8.4,0,2*Math.PI),e.attr("d",t.toString())}).on("click",function(){c.length<=1||(I(this),Ee&&console.log("Delete one level"),R(c.length-2),c[c.length-2].forEach(function(e){s[e].visible=!0}),c=c.slice(0,c.length-1),l.updateData(c,E),D(l.getVisible()),P(this))}),n=ve.scaleBand().range([0,l.attribWidth]).round(!0).paddingInner(.1).paddingOuter(0),r=ve.scaleBand().round(!0),E=ve.map(),a=function(e,t){return r(t)+n(e)},(o=e.select("canvas").node()).style.top=o.offsetTop+"px",o.style.left=o.offsetLeft+"px",o.style.height=y+"px";var L=window.devicePixelRatio;function I(e){ve.select(e).style("cursor","progress"),N.style("cursor","progress")}function P(e){ve.select(e).style("cursor",null),N.style("cursor",null)}function G(e,t){var n=e.domain(),a=e.range();return ve.scaleQuantize().domain(a).range(n)(t)}function B(e){ve.event&&ve.event.defaultPrevented||(Ee&&console.log("click "+e),h[e.level]={attrib:e.attrib,reverse:void 0!==h[e.level]&&h[e.level].attrib===e.attrib&&!h[e.level].reverse},Q(e.level),R(e.level),l.updateData(c,E,e.level))}function R(e){ve.select("#level"+e).selectAll(".brush").call(g[e].move,null)}function U(e){for(var t=0;t<c.length;t+=1)t!==e&&R(t)}function M(e,t){g[t]=ve.brushY().extent([[a(n.domain()[0],t),b[t].range()[0]],[a(n.domain()[n.domain().length-1],t)+1.1*n.bandwidth(),b[t].range()[1]]]).on("end",function(){if(I(this),ve.event.sourceEvent)if(ve.event.selection){U(t);var e=performance.now(),n=ve.event.selection,a=p.get(G(b[t],n[0])),r=p.get(G(b[t],n[1])),o=new be({first:a,last:r,level:t});ve.event.sourceEvent.shiftKey?v[t].push(o):v[t]=[o];var s=u();i(s);var d=performance.now();Ee&&console.log("Brushend filtering "+(d-e)+"ms"),Ee&&console.log("Computing new data");var m=c;0!==s.length?((m=c.slice(0,t+1)).push(s),l.updateData(m,E),Ee&&console.log("out of updateData"),Ee&&console.log("Selected "+s.length+" calling updateCallback"),D(l.getVisible()),P(this)):Ee&&console.log("Empty selection!")}else Ee&&console.log("Empty selection",ve.event.selection,ve.event.type,ve.event.sourceEvent)});var o=ve.select(this).selectAll(".brush").data([{data:s[e],level:t}]);function i(e){for(var n=0;n<e.length;n++)s[e[n]].__i[t+1]=n}function u(){var e,n;Ee&&console.log("applyFilters ",v),e=performance.now();var a=c[t].filter(function(e){s[e].visible=!1;var n=!0,a=!1,r=void 0;try{for(var o,i=v[t][Symbol.iterator]();!(n=(o=i.next()).done);n=!0)if(o.value.filter(s[e])){s[e].visible=!0;break}}catch(l){a=!0,r=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return s[e].visible});return n=performance.now(),Ee&&console.log("Applying filters "+(n-e)+"ms"),a}o.enter().merge(o).append("g").on("mousemove",z).on("click",function(){Ee&&console.log("click"),I(this);var e=ve.mouse(ve.event.target)[1];(function(e,a){Ee&&console.log("onSelectByValueFromCoords",e,a),U(-1);var o=performance.now(),s=G(b[t],a),d=performance.now();Ee&&console.log("invertOrdinalScale "+(d-o)+"ms");var m=G(n,e-r(t));if(void 0!==m){var f=p.get(s),h=new ye({sel:f,itemAttr:m});ve.event.shiftKey?v[t].push(h):v[t]=[h];var g=u();i(g);var y=c.slice(0,t+1);y.push(g),l.updateData(y,E),Ee&&console.log("Selected "+l.getVisible().length+" calling updateCallback"),D(l.getVisible())}})(ve.mouse(ve.event.target)[0],e),P(this)}).on("mouseout",q).attr("class","brush").call(g[t]).selectAll("rect").attr("width",a(n.domain()[n.domain().length-1],t)+1.1*n.bandwidth()),o.exit().remove()}function z(e){var t=ve.mouse(ve.event.target)[1],a=ve.mouse(ve.event.target)[0],o=G(b[e.level],t),i=G(n,a-r(e.level)),l=p.get(o);N.select(".nvTooltip").attr("transform","translate("+a+","+(t+20)+")").call(function(e){e.select(".tool_id").text(o),e.select(".tool_value_name").text(i+" : "),e.select(".tool_value_val").text(l[i])})}function q(){N.select(".nvTooltip").attr("transform","translate(-200,-200)").call(function(e){e.select(".tool_id").text(""),e.select(".tool_value_name").text(""),e.select(".tool_value_val").text("")})}function W(e){var t=n.domain(),o=N.select(".attribs").selectAll(".levelOverlay").data(c),i=o.enter().append("g");i.attr("class","levelOverlay").attr("id",function(e,t){return"level"+t}),e?i.merge(o).each(M):i.each(M);var s,u=i.merge(o).selectAll(".attribOverlay").data(function(e,n){return t.map(function(e){return{attrib:e,level:n}})}),d=u.enter().append("g").attr("class","attribOverlay").style("cursor","pointer");d.merge(u).attr("transform",function(e){return"translate("+a(e.attrib,e.level)+","+b[e.level].range()[0]+")"}),d.append("rect").merge(u.select("rect")).attr("fill","none").attr("x",0).attr("y",0).attr("width",function(){return 1.1*n.bandwidth()}).attr("height",function(e){return b[e.level].range()[1]-b[e.level].range()[0]}),d.append("text").merge(u.select("text")).style("cursor","point").style("-webkit-user-select","none").style("-moz-user-select","none").style("-ms-user-select","none").style("user-select","none").text(function(e){return"__seqId"===e.attrib?"sequential Index":e.attrib+(void 0!==h[e.level]&&h[e.level].attrib===e.attrib?h[e.level].reverse?" \u2193":" \u2191":"")}).attr("x",n.bandwidth()/2).attr("y",0).style("font-weight",function(e){return void 0!==h[e.level]&&h[e.level].attrib===e.attrib?"bolder":"normal"}).style("font-family","sans-serif").style("font-size",l.attribFontSize+"px").on("click",(s=B,function(e,t,n){var a=this;I(this),setTimeout(function(){s(e,t,n),P(a)},100)})).call(ve.drag().container(d.merge(u).node()).on("start",F).on("drag",V).on("end",H)).on("mousemove",function(){var e=ve.select(this);(e=void 0!==e.transition?e.transition().duration(150):e).style("font-size",l.attribFontSizeSelected+"px")}).on("mouseout",function(){var e=ve.select(this);(e=void 0!==e.transition?e.transition().duration(150):e).style("font-size",l.attribFontSize+"px")}).attr("transform","rotate(-45)"),i.append("text").merge(o.select("text.numNodesLabel")).attr("class","numNodesLabel").style("font-family","sans-serif").style("pointer-events","none").merge(o.select(".numNodesLabel")).attr("y",function(e,t){return b[t].range()[1]+15}).attr("x",function(e,t){return r(t)}).text(function(e){return C(e.length)}),u.exit().remove(),o.exit().remove()}function F(e){ve.event.sourceEvent.shiftKey&&(Ee&&console.log("start",e),ve.select(this.parentNode).attr("transform",function(e){return"translate("+(ve.event.x+l.attribFontSize/2)+","+b[e.level].range()[0]+")"}))}function V(e){ve.event.sourceEvent.shiftKey&&ve.select(this.parentNode).attr("transform",function(e){return"translate("+(ve.event.x+l.attribFontSize/2)+","+b[e.level].range()[0]+")"})}function H(e){if(ve.event.sourceEvent.shiftKey){Ee&&console.log("end",e);var t,o=G(n,ve.event.x+l.attribFontSize/2-r(e.level));ve.select(this.parentNode).attr("transform",function(e){return"translate("+a(e.attrib,e.level)+","+b[e.level].range()[0]+")"}),o!==e.attrib&&(t=f.indexOf(o),Y(e.attrib,t),l.updateData(c))}}function J(e){var t=n.domain()[n.domain().length-1],r=a(t,c.length-1)+n.bandwidth(),o=b[c.length-1](e.source[k])+b[c.length-1].bandwidth()/2,l=b[c.length-1](e.target[k])+b[c.length-1].bandwidth()/2,s=Math.min(o,l),u=Math.max(o,l),d=u-s;i.moveTo(r,s),i.quadraticCurveTo(r+d/6,s+d/2,r,u)}function K(e,t,n,a){i.beginPath(),e.forEach(function(e,t){0===t?i.moveTo(e.x,e.y):i.lineTo(e.x,e.y)}),i.lineWidth=t,a?(i.fillStyle=n,i.closePath(),i.fill()):(i.strokeStyle=n,i.stroke())}function Q(e){if(h.hasOwnProperty(e)){var t=performance.now(),n=h[e];c[e]=c[e].sort(function(e,t){return n.reverse?function(e,t){return null===e?null===t?0:-1:t<e?-1:t>e?1:t>=e?0:NaN}(s[e][n.attrib],s[t][n.attrib]):function(e,t){return null===t?null===e?0:-1:e<t?-1:e>t?1:e>=t?0:NaN}(s[e][n.attrib],s[t][n.attrib])}),c[e].forEach(function(t,n){s[t].__i[e]=n});var a=performance.now();Ee&&console.log("Sorting level "+e+" "+(a-t)+"ms")}else Ee&&console.log("UpdateSorting called without attrib in dSortBy",e,h)}function Y(e,t){var n=f.indexOf(e);-1!==n?t>f.length||t<0?console.err("moveAttrToPos pos out of bounds",t,f.length):(f.splice(n,1),f.splice(t,0,e)):console.err("moveAttrToPos attr not found",e)}return o.height=y*L,(i=o.getContext("2d")).scale(L,L),i.imageSmoothingEnabled=i.mozImageSmoothingEnabled=i.webkitImageSmoothingEnabled=!1,i.globalCompositeOperation="source-over",l.initData=function(e,t){var n=performance.now();(E=t).keys().forEach(function(e){m.set(e,!0)}),p=ve.map();for(var a=0;a<s.length;a++){var r=s[a];r.__seqId=a,p.set(r[k],r),r.__i={},r.__i[0]=a}(v=[])[0]=[];var o=performance.now();Ee&&console.log("Init data "+(o-n)+"ms")},l.updateData=function(e,t,a){Ee&&console.log("updateData");var i,p=performance.now();if(typeof e===typeof[]){E=void 0!==t?t:E,c=e,v.splice(e.length),v[e.length]=[],u.length>0&&(d=u.filter(function(e){return e.source.visible&&e.target.visible})),g.splice(e.length),Q(e.length-1),function(e){Ee&&console.log("Update scales");var t=performance.now(),a=c.length-1;Ee&&console.log("Delete unvecessary scales"),b.splice(a+1,b.length),b[e=void 0!==e?e:a]=ve.scaleBand().range([_,y-l.margin-30]).paddingInner(0).paddingOuter(0),Ee&&console.log("Compute representatives");var o=[];if(c[e].length>y){var i=Math.max(Math.floor(c[e].length/(2*y)),1);Ee&&console.log("itemsPerpixel",i),c[e].itemsPerpixel=i;for(var u=0;u<c[e].length;u+=i)o.push(c[e][u])}else c[e].itemsPerpixel=1,o=c[e];c[e].representatives=o,b[e].domain(o.map(function(e){return s[e][k]})),Ee&&console.log("Update color scale domains"),m.keys().forEach(function(e){if("visible"!==e){var t=E.get(e);if("seq"===t.__type||"date"===t.__type)t.domain(ve.extent(c[0].map(function(t){return s[t][e]})));else if("div"===t.__type){var n=ve.extent(c[0].map(function(t){return s[t][e]})),a=Object(T.a)(n,2),r=a[0],o=a[1],i=Math.max(-r,o);t.domain([-i,i])}E.set(e,t)}}),n.domain(f).range([0,l.attribWidth*m.keys().length]).paddingInner(.1).paddingOuter(0),r.domain(c.map(function(e,t){return t})).range([x+l.margin,(n.range()[1]+l.levelsSeparation)*c.length+x]).paddingInner(0).paddingOuter(0);var d=performance.now();Ee&&console.log("Updating Scales "+(d-t)+"ms")}(a),i=r.range()[1]+l.margin+x,ve.select(o).attr("width",i).attr("height",y).style("width",i).style("height",y+"px"),o.style.width=i+"px",o.style.height=y+"px",N.attr("width",i).attr("height",y),l.update();var h=performance.now();Ee&&console.log("Updating data "+(h-p)+"ms")}else console.error("navio updateData didn't receive an array")},l.update=function(e){var t=void 0!==e&&e,o=performance.now(),m=r.range()[1]+l.margin+x;i.clearRect(0,0,m+1,y+1),c.forEach(function(e,t){var o;!function(e){i.beginPath(),i.rect(r(e),b[e].range()[0]-1,n.range()[1]+1,b[e].range()[1]+2-100),i.strokeStyle="black",i.lineWidth=1,i.stroke()}(t),e.representatives.forEach(function(e){!function(e,t){var r,o,s;for(b[t].bandwidth()>l.divisionsThreshold&&Ee&&console.log("Add borders"),o=0;o<f.length;o++)if(r=f[o],s=Math.round(b[t](e[k])+b[t].bandwidth()/2),i.beginPath(),i.moveTo(Math.round(a(r,t)),s),i.lineTo(Math.round(a(r,t)+n.bandwidth()),s),i.lineWidth=Math.ceil(b[t].bandwidth())+1,i.strokeStyle=void 0===e[r]||null===e[r]||""===e[r]||"none"===e[r]?"white":E.get(r)(e[r]),i.stroke(),b[t].bandwidth()>2*l.divisionsThreshold){var c=Math.round(b[t](e[k]));i.beginPath(),i.moveTo(a(r,t),c),i.lineTo(a(r,t)+n.bandwidth(),c),i.lineWidth=1,i.strokeStyle=l.divisionsColor,i.stroke()}}(s[e],t)}),(o=t)<=0||c[o].representatives.forEach(function(e){var t=p.get(s[e][k]).__i[o-1],a=Math.floor(t-t%c[o-1].itemsPerpixel),i={x:r(o-1)+n.range()[1],y:b[o-1](s[c[o-1][a]][k])},u={x:r(o),y:b[o](s[e][k])},d=[i,{x:i.x+.3*l.levelsSeparation,y:i.y},{x:u.x-.3*l.levelsSeparation,y:u.y},u,{x:u.x,y:u.y+b[o].bandwidth()},{x:u.x-.3*l.levelsSeparation,y:u.y+b[o].bandwidth()},{x:i.x+.3*l.levelsSeparation,y:i.y+b[o-1].bandwidth()},{x:i.x,y:i.y+b[o-1].bandwidth()},i];K(d,1,l.levelConvectionsColor),K(d,1,l.levelConvectionsColor,!0)})}),u.length&&(Ee&&console.log("Draw links ",u[u.length-1].length,u),i.save(),i.beginPath(),i.strokeStyle=l.linkColor,i.globalAlpha=Math.min(1,Math.max(.1,1e3/u[u.length-1].length)),d.forEach(J),i.stroke(),i.restore()),W(t),function(){var e=c.length-1;N.select("#closeButton").style("display",1===c.length?"none":"block").attr("transform","translate("+(r(e)+r.bandwidth()-l.levelsSeparation+15)+","+b[e].range()[0]+")")}();var h=performance.now();Ee&&console.log("Redrawing "+(h-o)+"ms")},l.addAttrib=function(e,t){if(-1===f.indexOf(e))return f.push(e),E.set(e,t),l},l.addSequentialAttrib=function(e,t){var n=void 0!==s&&s.length>0?ve.extent(s,function(t){return t[e]}):[0,1],a=t||ve.scaleSequential(O).domain(n);return a.__type="seq",l.addAttrib(e,a),l},l.addDateAttrib=function(e,t){var n=void 0!==s&&s.length>0?ve.extent(s,function(t){return t[e]}):[0,1],a=t||ve.scaleSequential(A).domain(n);return l.addAttrib(e,a),a.__type="date",l},l.addDivergingAttrib=function(e,t){var n=void 0!==s&&s.length>0?ve.extent(s,function(t){return t[e]}):[-1,1],a=t||ve.scaleSequential(w).domain([n[0],n[1]]);return a.__type="div",l.addAttrib(e,a),l},l.addCategoricalAttrib=function(e,t){var n=t||ve.scaleOrdinal(ve.schemeCategory10);return n.__type="cat",l.addAttrib(e,n),l},l.addAllAttribs=function(e){if(!s||!s.length)throw Error("addAllAttribs called without data to guess the attribs. Make sure to call it after setting the data");return(void 0!==e?e:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}(s[0])).forEach(function(e){if("__seqId"!==e&&"__i"!==e){var t=function(e,t){var n;for(n=0;n<l.howManyItemsShouldSearchForNotNull&&n<e.length;n++)if(null!==e[0][t]&&void 0!==e[0][t]&&""!==e[0][t])return e[n][t];return e[n][t]}(s,e);null===t||void 0===t||""===t?l.addCategoricalAttrib(e):"number"===typeof t?ve.min(s,function(t){return t[e]})<0?l.addDivergingAttrib(e):l.addSequentialAttrib(e):typeof t===typeof new Date?l.addDateAttrib(e):l.addCategoricalAttrib(e)}}),l.data(s),W(!0),l},l.data=function(e){return E.has("visible")||(l.addAttrib("visible",ve.scaleOrdinal().domain([!1,!0]).range(S)),Y("visible",0)),E.has("__seqId")||(l.addSequentialAttrib("__seqId"),Y("__seqId",1)),arguments.length?(e.forEach(function(e){e.visible=!0}),c=[(s=e).map(function(e,t){return t})],l.initData(c,E),l.updateData(c,E),l):s[0]},l.getVisible=function(){return c[c.length-1].filter(function(e){return s[e].visible}).map(function(e){return s[e]})},l.updateCallback=function(e){return arguments.length?(D=e,l):D},l.visibleColorRange=function(e){return arguments.length?(S=e,l):S},l.defaultColorInterpolator=function(e){return arguments.length?(O=e,l):O},l.id=function(e){return arguments.length?(k=e,l):k},l.links=function(e){return arguments.length?(u=e,l):u},l},Te="CATEGORICAL",Ae="DATE",we=function(e){function t(){var e,n;Object(B.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(U.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).getScaleOrdinalScheme=function(e){switch(e){case"scheme10":default:return Object(q.d)(ge.schemeCategory10)}},n.getScaleOrdinalColor=function(e){switch(e){case"blue":return Object(q.d)(ge.schemeBlues);case"purple":return Object(q.d)(ge.schemePurples);case"red":return Object(q.d)(ge.schemeReds);case"green":return Object(q.d)(ge.schemeGreens);case"gray":return Object(q.d)(ge.schemeGreys);case"orange":return Object(q.d)(ge.schemeOranges);default:return Object(q.b)(ge.schemeOranges)}},n.getScaleTimeColor=function(e){switch(e){case"blue":return Object(q.j)(ge.schemeBlues);case"purple":return Object(q.j)(ge.schemePurples);case"red":return Object(q.j)(ge.schemeReds);case"green":return Object(q.j)(ge.schemeGreens);case"gray":return Object(q.j)(ge.schemeGreys);case"orange":return Object(q.j)(ge.schemeOranges);default:return Object(q.j)(ge.schemeGreys)}},n.setupNavio=function(){n.nn=Oe(Object(W.f)(n.target),600).updateCallback(n.props.updateFilteredData);for(var e=0;e<n.props.attributes.length;e++){var t=n.props.attributes[e];if(t.checked){switch(t.type){case Te:n.getScaleOrdinalScheme(t.color),n.nn.addCategoricalAttrib(t.name);break;default:if(t.data===Ae){n.getScaleTimeColor(t.color),n.nn.addSequentialAttrib(t.name,Object(q.e)().range([ge.interpolatePurples(0),ge.interpolatePurples(1)]));break}n.getScaleOrdinalColor(t.color),n.nn.addSequentialAttrib(t.name)}}}n.nn.data(n.props.data)},n}return Object(z.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.setupNavio()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.updated,n=e.updateAttribute;t&&(this.deleteWidget(),n(),this.setupNavio())}},{key:"deleteWidget",value:function(){for(var e=document.getElementById("vis");e.firstChild;)e.removeChild(e.firstChild)}},{key:"render",value:function(){var e=this,t=this.props.showSidebar,n=["sidebar"];return t||n.push("hide"),r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement(h.a,null,r.a.createElement(g.a,{span:10,className:n.join(" ")},r.a.createElement(he,null)),r.a.createElement(g.a,{span:t?14:24},r.a.createElement("div",{style:{width:"100%",overflowX:"scroll",minHeight:"700px"},id:"vis",ref:function(t){return e.target=t}}))))}}]),t}(a.Component),Se=Object(s.b)(function(e){return{showSidebar:e.ui.showSidebar,attributes:e.shipyard.attributes,data:e.shipyard.data,updated:e.shipyard.updated}},function(e){return{updateAttribute:function(){return e({type:"UPDATE_ATTRIBUTE"})},updateFilteredData:function(t){return e({type:"UPDATE_FILTERED_DATA",exportData:t})}}})(we),Ce=n(528),xe=Object(s.b)(function(e){return{exportData:e.shipyard.exportData,attributes:e.shipyard.attributes}})(function(e){var t=e.exportData,n=e.attributes,a=t.slice(0),o=[];return n.forEach(function(e){if("DATE"!==e.data){var t={};t.title=e.name,t.dataIndex=e.name,t.key=e.name,t.width=150,o.push(t)}}),a.forEach(function(e){e.key=e.__seqId}),r.a.createElement(h.a,null,r.a.createElement(Ce.a,{bordered:!0,pagination:!0,dataSource:a,columns:o,scroll:{x:150*o.length,y:"70vh"}}))}),_e=Object(s.b)(function(e){return{dataLoaded:e.ui.dataLoaded,showSidebar:e.ui.showSidebar}})(function(e){var t=e.dataLoaded;e.showSidebar;return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",null,t?r.a.createElement(h.a,null,r.a.createElement(g.a,{span:12},r.a.createElement(Se,null)),r.a.createElement(g.a,{span:12,style:{marginTop:"40px"}},r.a.createElement(xe,null))):r.a.createElement(G,null)))}),ke=u.a.Header,De=u.a.Content,je=u.a.Footer,Ne={marginBottom:"1em",padding:0,backgroundColor:"white",boxShadow:"0 5px 4px rgba(0,0,0,0.15), 0 4px 4px rgba(0,0,0,0.12)"},Le={minHeight:"100vh"},Ie=Object(s.b)(function(e){return{loading:e.ui.loading}})(function(e){return r.a.createElement("div",{style:Le},r.a.createElement(u.a,null,r.a.createElement(d.a,null,r.a.createElement(ke,{style:Ne},r.a.createElement(m,null))),r.a.createElement(De,null,e?r.a.createElement(_e,null):"loading"),r.a.createElement(je,null,r.a.createElement(f,null))))}),Pe={data:[],attributes:[],exportData:[],source:[],updated:!1,datasets:[{id:1,title:"Followers of presidential candidates Colombia 2018",description:"Dataset with information about followers on twitter of the presidential cadidates.",name:"all_followers_id.csv",size:1048575,n_attributes:10},{id:2,title:"MoMA Collection",description:"Evolving collection contains almost 130,000 works of modern and contemporary art.",name:"Artworks_less_columns.csv",size:131585,n_attributes:14},{id:3,title:"VAST Challenge 2017",description:"The VAST Challenge 2017 offered three mini-challenges and a grand challenge dealing with environmental problems potentially caused by human patterns of life and potentially harmful chemically laden effluent plumes being emitted from factory smokestacks. The data provided included traffic patterns, sensor data though the Boonsong Lekagul Nature Preserve.",name:"Lekagul Sensor Data.csv",size:171477,n_attributes:4}]},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA":return Object.assign({},e,{source:t.source,data:t.data,attributes:t.attributes,exportData:t.source});case"RESET_DATA":return Pe;case"CHANGE_CHECK_STATUS":var n=e.attributes.slice(0),a=n.map(function(e){return e.name}).indexOf(t.attribute.name);return n[a].checked=t.status,Object.assign({},e,{attributes:n});case"CHANGE_TYPE_STATUS":var r=e.attributes,o=r.map(function(e){return e.name}).indexOf(t.attribute.name);r[o].type=t.status,Object(Q.a)(e.source);var i=e.source.slice();switch(t.status){case"date":i.forEach(function(e){e[t.attribute.name]=new Date(e[t.attribute.name])});break;case"sequential":i.forEach(function(e){e[t.attribute.name]=+e[t.attribute.name]});break;default:i.forEach(function(e){e[t.attribute.name]=e[t.attribute.name]})}var l=e.data.slice();return l.forEach(function(e,n){e[t.attribute.name]=i[n][t.attribute.name]}),Object.assign({},e,{attributes:r,data:l});case"UPDATE_ATTRIBUTE":return Object.assign({},e,{updated:!e.updated});case"UPDATE_FILTERED_DATA":return Object.assign({},e,{exportData:t.exportData});case"TOGGLE_SETTINGS_VISIBLE":var s=e.attributes.slice(0);return s[t.index].settings=t.visible,Object.assign({},e,{attributes:s});case"SET_ATTRIBUTES":return Object.assign({},e,{attributes:t.attributes});case"SET_ATTRIBUTE_COLOR":var c=Object(Q.a)(e.attributes);return c.forEach(function(e){e.name==t.attributeName&&(e.color=t.color)}),Object.assign({},e,{attributes:c});case"SET_ALIAS":case"TOGGLE_COLOR_VISIBLE":default:return e}},Be={confirmLoading:!1,closed:!0,loading:!1,visible:!1,dataLoaded:!1,showSidebar:!1,componentClasses:["box"]},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return Object.assign({},e,{visible:!e.visible});case"TOGGLE_LOADING":return Object.assign({},e,{loading:!e.loading});case"TOGGLE_DATA_LOADED":return Object.assign({},e,{dataLoaded:!e.dataLoaded});case"RESET_DATA":return Be;case"TOGGLE_SIDEBAR":return Object.assign({},e,{showSidebar:!e.showSidebar});case"DELETE_COMPONENT_CLASS":var n=e.componentClasses.splice(0);return n[t.index].classes=["box"],Object.assign({},e,{componentClasses:n});case"ADD_COMPONENT_CLASS":console.log(t);var a=["box",t.className],r=e.componentClasses.splice(0);return r[t.index].classes=a,Object.assign({},e,{componentClasses:r});case"SWAP_COMPONENT_CLASSES":var o,i=e.componentClasses.splice(0);return o=i[t.i],i[t.i]=i[t.j],i[t.j]=o,Object.assign({},e,{componentClasses:i});case"SET_COMPONENT_CLASSES":var l=[];return console.log(t),console.log(e.componentClasses),t.attributes.forEach(function(e,t){var n={classes:["box","hide"]};n.index=t,l.push(n)}),Object.assign({},e,{componentClasses:l});default:return e}},Ue=Object(l.c)({shipyard:Ge,ui:Re}),Me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ze(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(524);var qe=Object(c.createLogger)(),We=Object(l.d)(Ue,Object(l.a)(o.a,qe));Object(i.render)(r.a.createElement(s.a,{store:We},r.a.createElement(Ie,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(".","/service-worker.js");Me?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ze(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ze(e)})}}()}},[[257,1,2]]]);
//# sourceMappingURL=main.dda91c8d.chunk.js.map